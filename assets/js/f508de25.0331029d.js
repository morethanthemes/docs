"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7789],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>k});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},c=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),u=p(a),k=r,g=u["".concat(s,".").concat(k)]||u[k]||m[k]||i;return a?n.createElement(g,l(l({ref:t},c),{},{components:a})):n.createElement(g,l({ref:t},c))}));function k(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,l=new Array(i);l[0]=u;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:r,l[1]=o;for(var p=2;p<i;p++)l[p]=a[p];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},3582:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>m,frontMatter:()=>i,metadata:()=>o,toc:()=>p});var n=a(7462),r=(a(7294),a(3905));const i={sidebar_position:10},l="Progressive Web App (PWA)",o={unversionedId:"guides/pwa",id:"guides/pwa",title:"Progressive Web App (PWA)",description:"Webmaker+ brings the power of Progressive Web Apps (PWA) to your website, enabling seamless, app-like experiences that enhance user engagement and accessibility. With PWA functionality, your site can offer faster load times, offline access, and an immersive experience that feels like a native app. This guide walks you through enabling and configuring these features, ensuring you unlock the full potential of your Webmaker+ site.",source:"@site/docs/guides/pwa.md",sourceDirName:"guides",slug:"/guides/pwa",permalink:"/docs/guides/pwa",draft:!1,editUrl:"https://github.com/morethanthemes/docs/edit/master/docs/guides/pwa.md",tags:[],version:"current",sidebarPosition:10,frontMatter:{sidebar_position:10},sidebar:"tutorialSidebar",previous:{title:"Managing Media",permalink:"/docs/guides/media"},next:{title:"How to",permalink:"/docs/category/how-to"}},s={},p=[{value:"Enabling PWA in Webmaker+",id:"enabling-pwa-in-webmaker",level:2},{value:"Installing the PWA",id:"installing-the-pwa",level:2},{value:"Verifying PWA Functionality",id:"verifying-pwa-functionality",level:2},{value:"1. Check Service Worker in Developer Tools",id:"1-check-service-worker-in-developer-tools",level:3},{value:"2. Verify Asset Caching",id:"2-verify-asset-caching",level:3},{value:"3. Test Offline Functionality",id:"3-test-offline-functionality",level:3},{value:"Uninstalling the PWA",id:"uninstalling-the-pwa",level:2},{value:"For Microsoft Edge:",id:"for-microsoft-edge",level:3},{value:"For Google Chrome:",id:"for-google-chrome",level:3},{value:"For Firefox:",id:"for-firefox",level:3},{value:"Clearing Service Worker and Cache",id:"clearing-service-worker-and-cache",level:3},{value:"Local Development",id:"local-development",level:2},{value:"Setup DDEV for HTTPS",id:"setup-ddev-for-https",level:2},{value:"Key PWA Implementation Files",id:"key-pwa-implementation-files",level:3},{value:"1. <code>pwa-service-worker.js</code>",id:"1-pwa-service-workerjs",level:4},{value:"2. <code>themes/contrib/baseplus/js/custom/pwa.js</code>",id:"2-themescontribbaseplusjscustompwajs",level:4},{value:"Extending the PWA Functionality",id:"extending-the-pwa-functionality",level:2},{value:"Suggestions for Enhancements:",id:"suggestions-for-enhancements",level:3},{value:"Conclusion",id:"conclusion",level:2}],c={toc:p};function m(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"progressive-web-app-pwa"},"Progressive Web App (PWA)"),(0,r.kt)("p",null,"Webmaker+ brings the power of Progressive Web Apps (PWA) to your website, enabling seamless, app-like experiences that enhance user engagement and accessibility. With PWA functionality, your site can offer faster load times, offline access, and an immersive experience that feels like a native app. This guide walks you through enabling and configuring these features, ensuring you unlock the full potential of your Webmaker+ site."),(0,r.kt)("h2",{id:"enabling-pwa-in-webmaker"},"Enabling PWA in Webmaker+"),(0,r.kt)("p",null,"To enable the PWA functionality in Webmaker+, follow these steps:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Log in as Administrator:")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Ensure you are logged in to your Drupal site with administrator privileges."))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Go to Theme Settings:")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Navigate to the ",(0,r.kt)("strong",{parentName:"li"},"Appearance")," section in the Drupal admin panel."),(0,r.kt)("li",{parentName:"ul"},"Open the settings for the enabled theme (e.g., Base+)."))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Enable PWA:")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},'Scroll to the "3rd Party Integrations" section.'),(0,r.kt)("li",{parentName:"ul"},"Check the box labeled ",(0,r.kt)("strong",{parentName:"li"},"Enable PWA"),"."))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Save Configuration:")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Click ",(0,r.kt)("strong",{parentName:"li"},"Save configuration")," to apply the changes.")))),(0,r.kt)("p",null,"Once you enable PWA, the service worker and associated functionality are activated."),(0,r.kt)("h2",{id:"installing-the-pwa"},"Installing the PWA"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"See the Installation Prompt:"),"\nWhen you visit the site, you will see an ",(0,r.kt)("strong",{parentName:"p"},'"Install App" button.'))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Trigger the Installation Dialog:"),"\nClick the button to open the browser's native installation dialog.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Choose Shortcut Options:"),"\nDuring installation, select where you want to create shortcuts for the app, such as on your desktop, taskbar, or start menu.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Launch the App:"),"\nOnce installed, you can launch the app in a standalone window, just like a native application."))),(0,r.kt)("h2",{id:"verifying-pwa-functionality"},"Verifying PWA Functionality"),(0,r.kt)("h3",{id:"1-check-service-worker-in-developer-tools"},"1. Check Service Worker in Developer Tools"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Open ",(0,r.kt)("strong",{parentName:"li"},"Developer Tools")," by pressing F12 and go to the ",(0,r.kt)("strong",{parentName:"li"},"Application")," tab."),(0,r.kt)("li",{parentName:"ul"},"Under ",(0,r.kt)("strong",{parentName:"li"},"Service Workers"),", confirm that the service worker is registered and running.")),(0,r.kt)("h3",{id:"2-verify-asset-caching"},"2. Verify Asset Caching"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Navigate to the ",(0,r.kt)("strong",{parentName:"li"},"Network")," tab in Developer Tools."),(0,r.kt)("li",{parentName:"ul"},"Reload the page and filter assets (e.g., ",(0,r.kt)("inlineCode",{parentName:"li"},".css"),", ",(0,r.kt)("inlineCode",{parentName:"li"},".js"),")."),(0,r.kt)("li",{parentName:"ul"},"Ensure that the ",(0,r.kt)("strong",{parentName:"li"},'"Fulfilled by"')," column shows ",(0,r.kt)("inlineCode",{parentName:"li"},"ServiceWorker")," for cached assets.")),(0,r.kt)("h3",{id:"3-test-offline-functionality"},"3. Test Offline Functionality"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Simulate being offline by enabling ",(0,r.kt)("strong",{parentName:"li"},"Offline mode")," in the Application tab under Service Workers."),(0,r.kt)("li",{parentName:"ul"},"Reload the page to confirm cached resources are served and the offline page is displayed.")),(0,r.kt)("h2",{id:"uninstalling-the-pwa"},"Uninstalling the PWA"),(0,r.kt)("h3",{id:"for-microsoft-edge"},"For Microsoft Edge:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Open Edge."),(0,r.kt)("li",{parentName:"ol"},"Navigate to ",(0,r.kt)("strong",{parentName:"li"},"Apps")," -> ",(0,r.kt)("strong",{parentName:"li"},"Manage apps"),"."),(0,r.kt)("li",{parentName:"ol"},"Locate the app, click the three-dot menu, and select ",(0,r.kt)("strong",{parentName:"li"},"Uninstall"),".")),(0,r.kt)("h3",{id:"for-google-chrome"},"For Google Chrome:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Open Chrome."),(0,r.kt)("li",{parentName:"ol"},"Navigate to ",(0,r.kt)("strong",{parentName:"li"},"More tools")," -> ",(0,r.kt)("strong",{parentName:"li"},"Extensions"),"."),(0,r.kt)("li",{parentName:"ol"},"Locate the app and click ",(0,r.kt)("strong",{parentName:"li"},"Remove"),".")),(0,r.kt)("h3",{id:"for-firefox"},"For Firefox:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Open Firefox."),(0,r.kt)("li",{parentName:"ol"},"Navigate to ",(0,r.kt)("strong",{parentName:"li"},"Add-ons and Themes"),"."),(0,r.kt)("li",{parentName:"ol"},"Locate the app and click ",(0,r.kt)("strong",{parentName:"li"},"Remove"),".")),(0,r.kt)("h3",{id:"clearing-service-worker-and-cache"},"Clearing Service Worker and Cache"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Open ",(0,r.kt)("strong",{parentName:"li"},"Developer Tools")," by pressing F12 and go to the ",(0,r.kt)("strong",{parentName:"li"},"Application")," tab."),(0,r.kt)("li",{parentName:"ol"},"Under ",(0,r.kt)("strong",{parentName:"li"},"Service Workers"),", click ",(0,r.kt)("strong",{parentName:"li"},"Unregister"),"."),(0,r.kt)("li",{parentName:"ol"},"Under ",(0,r.kt)("strong",{parentName:"li"},"Storage"),", click ",(0,r.kt)("strong",{parentName:"li"},"Clear site data")," to remove cached assets.")),(0,r.kt)("h2",{id:"local-development"},"Local Development"),(0,r.kt)("h2",{id:"setup-ddev-for-https"},"Setup DDEV for HTTPS"),(0,r.kt)("p",null,"PWA features require your site to be served over HTTPS. For local development using DDEV, follow these steps:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Configure HTTPS in DDEV:")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"ddev config global --instrumentation-opt-in=true\nddev start\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Resolve Certificate Issues:"),"\nIf DDEV displays an error about ",(0,r.kt)("inlineCode",{parentName:"p"},"mkcert"),", install certificates manually:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt update\nsudo apt install libnss3-tools\nwget -O mkcert https://github.com/FiloSottile/mkcert/releases/download/v1.4.3/mkcert-v1.4.3-linux-amd64\nchmod +x mkcert\nsudo mv mkcert /usr/local/bin/\n\nmkcert -install\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Copy Certificates to Windows:"),"\nIf you are using WSL, copy the certificates to Windows:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"cp $(mkcert -CAROOT)/rootCA.pem /mnt/c/Users/<YourWindowsUsername>/rootCA.pem\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Install Certificates on Windows:")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Open ",(0,r.kt)("strong",{parentName:"li"},"MMC")," by pressing ",(0,r.kt)("strong",{parentName:"li"},"Win + R"),", typing ",(0,r.kt)("inlineCode",{parentName:"li"},"mmc"),", and pressing ",(0,r.kt)("strong",{parentName:"li"},"Enter"),"."),(0,r.kt)("li",{parentName:"ul"},"Add the ",(0,r.kt)("strong",{parentName:"li"},"Certificates Snap-in:"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"Go to ",(0,r.kt)("strong",{parentName:"li"},"File")," -> ",(0,r.kt)("strong",{parentName:"li"},"Add/Remove Snap-in..."),"."),(0,r.kt)("li",{parentName:"ol"},"Select ",(0,r.kt)("strong",{parentName:"li"},"Certificates")," and click ",(0,r.kt)("strong",{parentName:"li"},"Add"),"."),(0,r.kt)("li",{parentName:"ol"},"Choose ",(0,r.kt)("strong",{parentName:"li"},"Computer account")," and click ",(0,r.kt)("strong",{parentName:"li"},"Next"),"."),(0,r.kt)("li",{parentName:"ol"},"Select ",(0,r.kt)("strong",{parentName:"li"},"Local Computer")," and click ",(0,r.kt)("strong",{parentName:"li"},"Finish"),"."))),(0,r.kt)("li",{parentName:"ul"},"Import the Certificate:",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"In the MMC console, expand ",(0,r.kt)("strong",{parentName:"li"},"Certificates (Local Computer)")," -> ",(0,r.kt)("strong",{parentName:"li"},"Trusted Root Certification Authorities"),"."),(0,r.kt)("li",{parentName:"ol"},"Right-click on ",(0,r.kt)("strong",{parentName:"li"},"Certificates"),", then select ",(0,r.kt)("strong",{parentName:"li"},"All Tasks")," -> ",(0,r.kt)("strong",{parentName:"li"},"Import..."),"."),(0,r.kt)("li",{parentName:"ol"},"Use the wizard to import the ",(0,r.kt)("inlineCode",{parentName:"li"},"rootCA.pem")," file you copied earlier into the ",(0,r.kt)("strong",{parentName:"li"},"Trusted Root Certification Authorities")," store.")))))),(0,r.kt)("h3",{id:"key-pwa-implementation-files"},"Key PWA Implementation Files"),(0,r.kt)("p",null,"Webmaker+ uses two key files to manage the PWA functionality:"),(0,r.kt)("h4",{id:"1-pwa-service-workerjs"},"1. ",(0,r.kt)("inlineCode",{parentName:"h4"},"pwa-service-worker.js")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Location:")," : Located at the root of the site."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Purpose:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Caches assets for offline use."),(0,r.kt)("li",{parentName:"ul"},"Manages network requests to provide reliable performance."),(0,r.kt)("li",{parentName:"ul"},"Handles updates to cached resources, ensuring users always have the latest versions."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Key Features:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Intercepts ",(0,r.kt)("inlineCode",{parentName:"li"},"fetch")," requests to serve cached assets."),(0,r.kt)("li",{parentName:"ul"},"Displays a friendly offline page when the network is unavailable.")))),(0,r.kt)("h4",{id:"2-themescontribbaseplusjscustompwajs"},"2. ",(0,r.kt)("inlineCode",{parentName:"h4"},"themes/contrib/baseplus/js/custom/pwa.js")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Location:")," Part of the theme's custom JavaScript directory (e.g.\xa0Base+)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Purpose:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Registers the service worker with the browser."),(0,r.kt)("li",{parentName:"ul"},"Manages the installation prompt using the ",(0,r.kt)("inlineCode",{parentName:"li"},"beforeinstallprompt")," event."),(0,r.kt)("li",{parentName:"ul"},"Tracks user actions for PWA installation and triggers the browser's native installation dialog.")))),(0,r.kt)("p",null,"These files work together to deliver the seamless user experience expected of a PWA."),(0,r.kt)("h2",{id:"extending-the-pwa-functionality"},"Extending the PWA Functionality"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Note:")," The configuration described above provides a basic foundation for enabling PWA functionality. Once this is in place, you can extend and enhance the user experience with additional features."),(0,r.kt)("h3",{id:"suggestions-for-enhancements"},"Suggestions for Enhancements:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Push Notifications:")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Implement push notifications to engage users with real-time updates and alerts."),(0,r.kt)("li",{parentName:"ul"},"Integrate with services like Firebase Cloud Messaging (FCM) for easy setup."))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Dynamic Caching Strategies:")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Extend caching strategies to support more complex use cases, such as caching API responses dynamically for offline access."))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Custom Offline Pages:")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Design custom offline pages tailored to the website\u2019s audience, with helpful instructions or interactive elements.")))),(0,r.kt)("p",null,"By building on this foundation, you can create a more engaging, reliable, and feature-rich PWA experience for your users."),(0,r.kt)("h2",{id:"conclusion"},"Conclusion"),(0,r.kt)("p",null,"The PWA features in Webmaker+ offer significant enhancements, including offline access, improved performance, and seamless user experiences. By following this guide, you can enable, configure, and verify PWA functionality on your Webmaker+ site. For more advanced customizations, you can modify ",(0,r.kt)("inlineCode",{parentName:"p"},"pwa-service-worker.js")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"pwa.js")," to tailor the experience further."))}m.isMDXComponent=!0}}]);